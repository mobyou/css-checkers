<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Bootstrap CSS checker</title>
        <meta name="viewport" content="width=device-width">
        <meta name="robots" content="noindex">
        <style>
            .page {
                max-width: 40em;
                margin: 2em auto;
                font: 1rem -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; 
            }
            .page .image-wrapper {
                display: block;
                width: 64px;
                margin: 2rem auto 1rem;
                cursor: move;
            }
            .page a.bookmarklet-link {
                display: inline-block;
                text-decoration: none;
                background-color: #212733;
                padding: 1rem 1.2rem;
                text-align: center;
                color: #57CAE0;
                font-size: 1.2rem;
                box-shadow: 0px 2px 22px 1px rgba(34,34,34,0.46);
                cursor: move;
            }
            .page a.bookmarklet-link strong {
                color: #fff;
                display: block;
            }
            .page h2 {
                margin-top: 2rem;
            }
            .page li {
                margin-bottom: .75rem;
            }

        </style>

        <script>

            /* Original Javascript */
            // document.addEventListener("DOMContentLoaded", function() {


            /*var cssCheck = document.createElement("link");
                cssCheck.href = "https://cdn.rawgit.com/mobyou/css-checkers/master/css/css-bookmarklet-fr.min.css";
                cssCheck.rel = "stylesheet";
                cssCheck.media = "(min-width:640px)";
                document.body.appendChild(cssCheck);*/

            /*duplicateIdsCheck*/

            /*var n, e, o, r = document.getElementsByTagName("*"), t = {}, feedback = "";
                for (n = 0, e = r.length; n < e; n += 1)(o = r[n].id || null) && (t[o] = t.hasOwnProperty(o) ? t[o] += 1 : 0);
                for (o in t) {
                    if (t.hasOwnProperty(o) && t[o]){
                        console.warn("Multiple IDs #" + o);
                        feedback += "Multiple IDs #" + o + "\n";
                    }
                }
                if (feedback != "") {
                    if(!document.getElementById("feedbackJSChecker")){
                    var feedbackWrap = document.createElement("div");
                    feedbackWrap.id = "feedbackJSChecker";
                    feedbackWrap.style = "font:700 1.125rem/1.5 sans-serif;font-family:-apple-system,BlinkMacSystemFont,Roboto,Oxygen-Sans,Ubuntu,Cantarell,sans-serif;font-size:1.125rem;background:#737373;color:white;display:inline-block;left:auto;padding:0.75em 1em 0.75em 1.5em;    position:fixed;bottom:1rem;right:1rem;top:auto;width:auto;white-space:pre; z-index:2147483648;";
                    document.body.appendChild(feedbackWrap);}
                    document.getElementById("feedbackJSChecker").innerHTML="";
                    document.getElementById("feedbackJSChecker").append(feedback);
                }
*/
            //});

        </script>


    </head>
    <body>
        <div class="page">
            <h1>Bookmarklet de vérification de qualité HTML5/CSS</h1>

            <a id="bookmarkletLink" class="bookmarklet-link" href="javascript:(function(){&quot;use%20strict&quot;;var%20cssCheck=document.createElement(&quot;link&quot;);cssCheck.href=&quot;https://cdn.rawgit.com/mobyou/css-checkers/master/css/css-bookmarklet-fr.min.css&quot;;cssCheck.rel=&quot;stylesheet&quot;;cssCheck.media=&quot;(min-width:640px)&quot;;document.body.appendChild(cssCheck);/*duplicateIdsCheck*/var%20n,e,o,r=document.getElementsByTagName(&quot;*&quot;),t={},feedback=&quot;&quot;;for(n=0,e=r.length;n<e;n+=1)(o=r[n].id||null)&&(t[o]=t.hasOwnProperty(o)?t[o]+=1:0);for(o%20in%20t){if(t.hasOwnProperty(o)&&t[o]){console.warn(&quot;Multiple%20IDs%20#&quot;+o);feedback+=&quot;Multiple%20IDs%20#&quot;+o+&quot;\n&quot;;}}if(feedback!=''){if(!document.getElementById(&quot;feedbackJSChecker&quot;)){var%20feedbackWrap=document.createElement(&quot;div&quot;);feedbackWrap.id=&quot;feedbackJSChecker&quot;;feedbackWrap.style=&quot;font:700%201.125rem/1.5%20sans-serif;font-family:-apple-system,BlinkMacSystemFont,Roboto,Oxygen-Sans,Ubuntu,Cantarell,sans-serif;font-size:1.125rem;background:#737373;color:white;display:inline-block;left:auto;padding:0.75em%201em%200.75em%201.5em;%20%20%20%20position:fixed;bottom:1rem;right:1rem;top:auto;width:auto;white-space:pre;%20z-index:2147483648;&quot;;document.body.appendChild(feedbackWrap);}document.getElementById(&quot;feedbackJSChecker&quot;).innerHTML=&quot;&quot;;document.getElementById(&quot;feedbackJSChecker&quot;).append(feedback);}})();" class="bookmarklet done">
                <strong>HTML5</strong>checker
            </a>

            <h2>
                Utilisation :
            </h2>
            <ol>
                <li>Glissez déposez l'icône ci-dessus sur vos bookmarks</li>
                <li>Ouvrir votre page distante ou locale</li>
                <li>Cliquer sur votre favori "HTML5 Checker"</li>
                <li>Si un problème d'héritage apparaît, les blocs concernés sont surlignés en violet et le premier bloc en erreur est assorti d'une bulle rouge commençant avec une tête de mort</li>
                <li>Si un problème de structure ou d'attribut HTML apparaît, les erreurs et les avertissements sont indiqués sur la page</li>
                <li>Un récap du nombres d'erreurs HTML est résumé en bas à gauche quand le CSS de la page analysée le permet</li>
                <li>Un récap des id HTML est résumé en bas à droite</li>
                <li>Pour faire disparaître cette feuille de style de checkup, rafraîchir la page</li>
            </ol>

            <h2>Comment ça marche ?</h2>

            <ul>
                <li>Ce bookmarklet utilise du JS pour injecter du code en fin de page (avant la fermeture du body). Le Javascript teste les id dupliqués et injecte un CSS inoffensif qui teste la structure et la validité du balisage HTML5</li>
                <li>Sans que vous n'ayez aucune mise à jour à faire, le code injecté pourra évoluer et s'enrichir d'autres tests qui seront listés ci-dessous</li>
            </ul>
            <h2>Tests effectués par cet HTML checker :</h2>
            <ol id="test-list">

                <li>spécifier une langue de document</li>
                <li>spécifier un encodage UTF-8</li>
                <li>placer le meta[charset] en premier, avant le title</li>
                <li>laissez vos internautes pincher ! utiliser le viewport flexible : width=device-width</li>
                <li>eviter les redirections côté client, faites le côté serveur : https://www.w3.org/WAI/GL/2016/WD-WCAG20-TECHS-20160628/SVR1</li>
                <li>[for] du label vide</li>
                <li>[id] invalide</li>
                <li>[width] et [height] sont interdits</li>
                <li>bouton vide et sans titre</li>
                <li>[href] vide</li>
                <li>lien vide</li>
                <li>[name] manquant</li>
                <li>éléments interactifs imbriqués</li>
                <li>[action] manquant</li>
                <li>[alt] manquant</li>
                <li>champ sans label</li>
                <li>tag title de la page vide</li>
                <li>iframe sans [title]</li>
                <li>button sans [type]</li>
                <li>input sans [type]</li>
                <li>[tabindex]>0</li>
                <li>
                    enfant invalide de dl
                </li>
                <li>
                    figcaption à l'extérieur de figure
                </li>
                <li>imbrication li invalide</li>
                <li>imbrication invalide de balises</li>
                <li>sectionnement mal utilisé</li>
                <li>div dans un élément inline</li>
                <li>
                    [for] manquant dans un label
                </li>
                <li>
                    un fieldset commence par une legend
                </li>
                <li>
                    un tableau de données commence par caption
                </li>
                <li>target blank sans [rel]</li>
                <li>main doit être unique</li>
                <li>lien sans cible</li>
                <li>pas d'HTTPS</li>
                <li>[placeholder] ne remplace pas un label</li>
                <li>appel JS : [integrity] et [crossorigin] manquants</li>

            </ol>
            <h2>Les outils complémentaires</h2>
            <p>Cet outil est complémentaire au validateur HTML5 <a href="https://validator.w3.org/nu" target="_blank" rel="noreferrer noopener">https://validator.w3.org/nu</a></p>
            <p>HTML5 checker teste surtout la grammaire HTML alors que le validateur va également pointer des fautes d'orthographe, des fautes de frappe comme des balises mal fermées, ou guillemets de fermeture ou d'ouverture manquants.</p>
            <h3>Le validateur W3C vous permet donc de détecter :</h3>
            <ul>
                <li>Bonne fermeture des tags et des attributs</li>
                <li>Est-ce qu'une balise form existe quand il y a des champs</li>
                <li>Eviter les balises inline autour des balises block...</li>
            </ul>


        </div>
    </body>
</html>
